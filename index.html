<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°yi ki DoÄŸdun Ada!</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root { --pink: #d8a1b5; --pink-dark: #c48ca3; --bg: #fff6f9; --white: #ffffff; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }
        body { 
            background: linear-gradient(135deg, #ffeef5 0%, #ffe0f0 50%, #ffd5eb 100%);
            overflow-x: hidden; 
            color: #444; 
            position: relative;
        }
        #starBackground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4;
        }

        /* GÄ°RÄ°Å EKRANI */
        #intro {
            height: 100vh; width: 100%; position: fixed; top: 0; left: 0;
            background: linear-gradient(135deg, var(--pink), var(--pink-dark));
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 1000; text-align: center; color: white; padding: 20px;
        }
        .intro-title { font-size: 1.5rem; margin-bottom: 20px; font-weight: 300; }
        .countdown { display: flex; gap: 15px; margin-bottom: 40px; }
        .time-box {
            background: rgba(255, 255, 255, 0.2); padding: 15px; border-radius: 15px;
            min-width: 80px; border: 1px solid rgba(255, 255, 255, 0.3); backdrop-filter: blur(5px);
        }
        .time-box span { display: block; font-size: 2rem; font-weight: 700; }
        #surpriseBtn {
            padding: 18px 45px; font-size: 1.2rem; border: none; border-radius: 50px;
            background: white; color: var(--pink-dark); cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); transition: 0.3s; font-weight: 600;
        }

        /* ANA Ä°Ã‡ERÄ°K */
        #content { display: none; padding-bottom: 100px; }
        .container { max-width: 800px; margin: auto; padding: 20px; }
        header { text-align: center; padding: 60px 0; }
        header h1 { font-size: 2.5rem; color: var(--pink-dark); text-shadow: 2px 2px 5px rgba(0,0,0,0.05); }
        section { margin-bottom: 80px; }
        h2 { text-align: center; color: var(--pink-dark); margin-bottom: 30px; font-size: 1.8rem; }

        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }
        .gallery img { width: 100%; height: 250px; object-fit: cover; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.08); }

        .note-card { background: white; padding: 40px; border-radius: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.05); text-align: center; border: 2px dashed var(--pink); }

        .cat-section { text-align: center; }
        #catImg { width: 220px; height: 220px; border-radius: 50%; box-shadow: 0 15px 35px rgba(0,0,0,0.15); object-fit: cover; }
        .jump { animation: jumpAnim 0.6s infinite alternate; }
        @keyframes jumpAnim { from { transform: translateY(0); } to { transform: translateY(-30px); } }
        #meowText { margin-top: 20px; font-size: 1.5rem; font-weight: 700; color: var(--pink-dark); display: none; }

        /* OYUN STILI */
        .game-container { background: white; padding: 30px; border-radius: 30px; box-shadow: 0 15px 40px rgba(0,0,0,0.08); max-width: 600px; margin: 0 auto; }
        #gameCanvas { border: 3px solid var(--pink); border-radius: 15px; display: block; margin: 20px auto; background: #fffafc; cursor: crosshair; }
        .game-info { display: flex; justify-content: space-around; margin-top: 20px; font-size: 1.2rem; font-weight: 600; color: var(--pink-dark); }
        #startGameBtn { padding: 15px 40px; font-size: 1.1rem; border: none; border-radius: 50px; background: var(--pink-dark); color: white; cursor: pointer; margin-top: 15px; transition: 0.3s; font-weight: 600; }
        #startGameBtn:hover { background: var(--pink); transform: scale(1.05); }
        .game-message { text-align: center; margin-top: 15px; font-size: 1.1rem; color: var(--pink-dark); font-weight: 600; min-height: 30px; }

        .music-btn { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: var(--pink-dark); color: white; border: none; cursor: pointer; z-index: 2000; }
    </style>
</head>
<body>

    <canvas id="starBackground"></canvas>

    <div id="intro">
        <h3 class="intro-title" id="baslik">Ada'nÄ±n 20. YaÅŸÄ±na Kalan Zaman:</h3>
        <div class="countdown">
            <div class="time-box"><span id="days">00</span>GÃ¼n</div>
            <div class="time-box"><span id="hours">00</span>Saat</div>
            <div class="time-box"><span id="minutes">00</span>Dakika</div>
        </div>
        <button id="surpriseBtn">SÃ¼rprizi AÃ§ âœ¨</button>
        <p id="uyari" style="margin-top:20px; opacity:0.8; font-size:0.9rem;">SÃ¼re dolmadan kilit aÃ§Ä±lmaz! ğŸ”’</p>
    </div>

    <div id="content">
        <div class="container">
            <header><h1>Ä°yi ki DoÄŸdun Ada! âœ¨<br>ArtÄ±k 20 Oldun!</h1></header>
            <section>
                <h2>AnÄ±larÄ±mÄ±z</h2>
                <div class="gallery">
                    <img src="2.jpeg"><img src="1.jpeg"><img src="5.jpeg">
                    <img src="3.jpeg"><img src="6.jpeg"><img src="4.jpeg">
                </div>
            </section>
            <section>
                <h2>Sana KÃ¼Ã§Ã¼k Bir Not</h2>
                <div class="note-card">
                    DoÄŸum gÃ¼nÃ¼ kutlu olsun, yurt dÄ±ÅŸÄ±nda olduÄŸumdan yanÄ±na gelip kutlayamadÄ±m. Ã–zÃ¼r dilerim, seni seviyorum. Nice beraber yaÅŸlara!â¤ï¸(Bir de normalde mÃ¼zik koyacaktÄ±m buraya, doÄŸum gÃ¼nÃ¼n kutlu olsun ada diye Ã¼ÅŸendim.)
                </div>
            </section>
            <section>
                <h2>DoÄŸduÄŸun Gecenin YÄ±ldÄ±zlarÄ± âœ¨</h2>
                <div class="note-card" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: white; padding: 50px 30px;">
                    <p style="margin-bottom: 30px; font-size: 1.1rem; opacity: 0.9;">
                        29 Ocak 2006, saat 00:00<br>
                        DÃ¼nyaya geldiÄŸin an, gÃ¶kyÃ¼zÃ¼ bÃ¶yleydi...
                    </p>
                    <canvas id="starMap" width="600" height="400" style="max-width: 100%; border-radius: 15px; background: #0a0a15;"></canvas>
                    <p style="margin-top: 25px; font-style: italic; opacity: 0.8; font-size: 0.95rem;">
                        "O gece yÄ±ldÄ±zlar senin iÃ§in parladÄ±, ve hala parlÄ±yor..." ğŸ’«
                    </p>
                </div>
            </section>

            <section>
                <h2>Mini Oyun: Cupcake Topla! ğŸ§</h2>
                <div class="game-container">
                    <p style="text-align: center; margin-bottom: 15px;">DÃ¼ÅŸen cupcake'leri topla, bombalarÄ± sakÄ±n! Her cupcake = 10 puan! ğŸ‚</p>
                    <canvas id="gameCanvas" width="500" height="400"></canvas>
                    <div class="game-info">
                        <div>Skor: <span id="score">0</span></div>
                        <div>SÃ¼re: <span id="timer">30</span>s</div>
                    </div>
                    <div style="text-align: center;">
                        <button id="startGameBtn">Oyunu BaÅŸlat! ğŸ®</button>
                    </div>
                    <div class="game-message" id="gameMessage"></div>
                </div>
            </section>

            <section class="cat-section">
                <h2>TÄ±kla!</h2>
                <div id="catTrigger" style="cursor:pointer; display:inline-block;">
                    <img id="catImg" src="122.png">
                    <div id="meowText">Seni seviyorum!! â¤ï¸</div>
                </div>
            </section>
        </div>
    </div>

    <audio id="birthdayMusic" loop><source src="mÃ¼zik.mp3" type="audio/mpeg"></audio>
    <button class="music-btn" id="musicToggle">â–¶</button>

    <script>
        // TARÄ°HÄ° BURADAN KONTROL EDER
        const birthdayDate = new Date("January 29, 2026 12:00:00").getTime();
        let kilitAcik = false;

        const timer = setInterval(function() {
            const now = new Date().getTime();
            const distance = birthdayDate - now;

            const d = Math.floor(distance / (1000 * 60 * 60 * 24));
            const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

            document.getElementById("days").innerText = d > 0 ? d : 0;
            document.getElementById("hours").innerText = h > 0 ? h : 0;
            document.getElementById("minutes").innerText = m > 0 ? m : 0;

            if (distance <= 0) {
                clearInterval(timer);
                kilitAcik = true; // SÃœRE DOLUNCA KÄ°LÄ°T AÃ‡ILIR
                document.getElementById("baslik").innerText = "BugÃ¼n BÃ¼yÃ¼k GÃ¼n! ğŸ‰";
                document.getElementById("uyari").innerText = "SÃ¼rpriz hazÄ±r! TÄ±kla!";
            }
        }, 1000);

        // BUTON KONTROLÃœ (KÄ°LÄ°T BURADA)
        document.getElementById('surpriseBtn').onclick = function() {
            if (!kilitAcik) {
                alert("HenÃ¼z zamanÄ± gelmedi Ada! Biraz daha sabretmelisin. ğŸ˜Š");
                return; // SÃ¼re dolmadÄ±ysa aÅŸaÄŸÄ±daki kodlar Ã§alÄ±ÅŸmaz!
            }
            // SÃœRE DOLDUYSA BURASI Ã‡ALIÅIR
            document.getElementById('intro').style.display = 'none';
            document.getElementById('content').style.display = 'block';
            document.getElementById('birthdayMusic').play();
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        };

        const catImg = document.getElementById('catImg');
        document.getElementById('catTrigger').onclick = function() {
            catImg.classList.toggle('jump');
            document.getElementById('meowText').style.display = 'block';
            setTimeout(() => { catImg.classList.remove('jump'); document.getElementById('meowText').style.display = 'none'; }, 3000);
        };

        let isPlaying = false;
        document.getElementById('musicToggle').onclick = function() {
            const music = document.getElementById('birthdayMusic');
            if (isPlaying) { music.pause(); this.innerText = 'â–¶'; } else { music.play(); this.innerText = '||'; }
            isPlaying = !isPlaying;
        };

        // YILDIZ HARÄ°TASI - ARKA PLAN (Pembe tonlarda)
        function drawStarBackground() {
            const canvas = document.getElementById('starBackground');
            if (!canvas) return;
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // Arka plan temizle
            ctx.clearRect(0, 0, width, height);

            // 29 Ocak 2006 iÃ§in Ã¶zel yÄ±ldÄ±z konumlarÄ± (pembe tonlarda)
            const centerX = width / 2;
            const centerY = height / 2;
            
            const stars = [
                // Kova burcu (29 Ocak) - merkezi
                {x: centerX, y: centerY - 100, size: 5, color: '#ff69b4', brightness: 1},
                {x: centerX - 40, y: centerY - 120, size: 4, color: '#ff85cc', brightness: 0.9},
                {x: centerX + 40, y: centerY - 110, size: 4, color: '#ff99dd', brightness: 0.85},
                {x: centerX - 20, y: centerY - 80, size: 3.5, color: '#ffa6e6', brightness: 0.8},
                {x: centerX + 20, y: centerY - 75, size: 3.5, color: '#ffb3ee', brightness: 0.85},
                
                // BÃ¼yÃ¼k parlak yÄ±ldÄ±zlar (pembe-mor tonlar)
                {x: centerX - 200, y: centerY - 200, size: 5, color: '#ff1493', brightness: 1},
                {x: centerX + 180, y: centerY - 180, size: 4.5, color: '#ff69b4', brightness: 0.95},
                {x: centerX - 150, y: centerY + 100, size: 4, color: '#ff85cc', brightness: 0.9},
                {x: centerX + 160, y: centerY + 120, size: 4, color: '#ff99dd', brightness: 0.9},
                
                // Rastgele pembe yÄ±ldÄ±zlar
                ...Array(120).fill(0).map(() => {
                    const colors = ['#ff69b4', '#ff85cc', '#ff99dd', '#ffa6e6', '#ffb3ee', '#ffc0f5', '#e6b3ff', '#d9b3ff'];
                    return {
                        x: Math.random() * width,
                        y: Math.random() * height,
                        size: Math.random() * 3 + 0.8,
                        color: colors[Math.floor(Math.random() * colors.length)],
                        brightness: Math.random() * 0.7 + 0.3
                    };
                })
            ];

            // YÄ±ldÄ±zlarÄ± Ã§iz
            stars.forEach(star => {
                const gradient = ctx.createRadialGradient(star.x, star.y, 0, star.x, star.y, star.size * 4);
                gradient.addColorStop(0, `${star.color}${Math.floor(star.brightness * 255).toString(16).padStart(2, '0')}`);
                gradient.addColorStop(0.5, `${star.color}${Math.floor(star.brightness * 128).toString(16).padStart(2, '0')}`);
                gradient.addColorStop(1, 'rgba(255, 182, 193, 0)');
                
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size * 2.5, 0, Math.PI * 2);
                ctx.fill();

                // Parlak yÄ±ldÄ±zlar iÃ§in Ã§apraz Ä±ÅŸÄ±k
                if (star.brightness > 0.85) {
                    ctx.strokeStyle = `${star.color}${Math.floor(star.brightness * 80).toString(16).padStart(2, '0')}`;
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(star.x - star.size * 5, star.y);
                    ctx.lineTo(star.x + star.size * 5, star.y);
                    ctx.moveTo(star.x, star.y - star.size * 5);
                    ctx.lineTo(star.x, star.y + star.size * 5);
                    ctx.stroke();
                }
            });

            // Kova burcu baÄŸlantÄ±larÄ± (ince pembe Ã§izgiler)
            ctx.strokeStyle = 'rgba(255, 105, 180, 0.25)';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(centerX - 40, centerY - 120);
            ctx.lineTo(centerX, centerY - 100);
            ctx.lineTo(centerX + 40, centerY - 110);
            ctx.moveTo(centerX, centerY - 100);
            ctx.lineTo(centerX - 20, centerY - 80);
            ctx.lineTo(centerX + 20, centerY - 75);
            ctx.stroke();

            // Romantik mesaj (saÄŸ alt kÃ¶ÅŸe)
            ctx.fillStyle = 'rgba(255, 105, 180, 0.6)';
            ctx.font = 'italic 16px Poppins';
            ctx.textAlign = 'right';
            ctx.fillText('29 Ocak 2006 - Senin yÄ±ldÄ±zlarÄ±n âœ¨', width - 30, height - 30);
        }

        // Sayfa yÃ¼klendiÄŸinde ve boyut deÄŸiÅŸtiÄŸinde Ã§iz
        drawStarBackground();
        window.addEventListener('resize', drawStarBackground);

        // MÄ°NÄ° OYUN - CUPCAKE TOPLA
        const gameCanvas = document.getElementById('gameCanvas');
        const gameCtx = gameCanvas.getContext('2d');
        let gameRunning = false;
        let score = 0;
        let timeLeft = 30;
        let basketX = 225;
        let fallingItems = [];
        let gameInterval;
        let spawnInterval;

        class FallingItem {
            constructor() {
                this.x = Math.random() * (gameCanvas.width - 40);
                this.y = -40;
                this.speed = Math.random() * 2 + 2;
                this.isBomb = Math.random() < 0.25; // 25% bomba ÅŸansÄ±
                this.emoji = this.isBomb ? 'ğŸ’£' : ['ğŸ§', 'ğŸ‚', 'ğŸ°', 'ğŸª'][Math.floor(Math.random() * 4)];
            }

            update() {
                this.y += this.speed;
            }

            draw() {
                gameCtx.font = '35px Arial';
                gameCtx.fillText(this.emoji, this.x, this.y);
            }

            isOffScreen() {
                return this.y > gameCanvas.height;
            }

            checkCollision(bx) {
                return this.y > gameCanvas.height - 60 && 
                       this.y < gameCanvas.height - 20 &&
                       this.x > bx - 20 && 
                       this.x < bx + 70;
            }
        }

        function drawBasket() {
            // Sepet (pembe)
            gameCtx.fillStyle = '#ff69b4';
            gameCtx.fillRect(basketX, gameCanvas.height - 50, 50, 40);
            gameCtx.fillStyle = '#ff85cc';
            gameCtx.fillRect(basketX - 10, gameCanvas.height - 50, 70, 10);
        }

        function gameLoop() {
            if (!gameRunning) return;

            // Temizle
            gameCtx.clearRect(0, 0, gameCanvas.width, gameCanvas.height);

            // Sepeti Ã§iz
            drawBasket();

            // DÃ¼ÅŸen itemlarÄ± gÃ¼ncelle ve Ã§iz
            fallingItems.forEach((item, index) => {
                item.update();
                item.draw();

                // Ã‡arpÄ±ÅŸma kontrolÃ¼
                if (item.checkCollision(basketX)) {
                    if (item.isBomb) {
                        score = Math.max(0, score - 20);
                        document.getElementById('gameMessage').textContent = 'ğŸ’¥ Bombaa! -20 puan!';
                        setTimeout(() => document.getElementById('gameMessage').textContent = '', 1000);
                    } else {
                        score += 10;
                        document.getElementById('gameMessage').textContent = 'ğŸ‰ +10 puan!';
                        setTimeout(() => document.getElementById('gameMessage').textContent = '', 500);
                    }
                    fallingItems.splice(index, 1);
                }

                // Ekran dÄ±ÅŸÄ±na Ã§Ä±ktÄ±ysa sil
                if (item.isOffScreen()) {
                    fallingItems.splice(index, 1);
                }
            });

            document.getElementById('score').textContent = score;

            requestAnimationFrame(gameLoop);
        }

        function startGame() {
            gameRunning = true;
            score = 0;
            timeLeft = 30;
            fallingItems = [];
            document.getElementById('score').textContent = '0';
            document.getElementById('timer').textContent = '30';
            document.getElementById('gameMessage').textContent = '';
            document.getElementById('startGameBtn').disabled = true;

            // ZamanlayÄ±cÄ±
            gameInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);

            // Item spawn
            spawnInterval = setInterval(() => {
                if (gameRunning) {
                    fallingItems.push(new FallingItem());
                }
            }, 800);

            gameLoop();
        }

        function endGame() {
            gameRunning = false;
            clearInterval(gameInterval);
            clearInterval(spawnInterval);
            document.getElementById('startGameBtn').disabled = false;
            
            let message = score >= 200 ? 'ğŸ† MÃ¼kemmel! Ada\'yÄ± mutlu ettin!' :
                         score >= 100 ? 'ğŸ‰ Harika oynadÄ±n!' :
                         score >= 50 ? 'ğŸ˜Š Fena deÄŸil!' :
                         'ğŸ’ª Bir daha dene!';
            
            document.getElementById('gameMessage').textContent = `Oyun Bitti! ${message} Skor: ${score}`;
        }

        // Mouse ile sepeti hareket ettir
        gameCanvas.addEventListener('mousemove', (e) => {
            const rect = gameCanvas.getBoundingClientRect();
            basketX = e.clientX - rect.left - 25;
            basketX = Math.max(0, Math.min(basketX, gameCanvas.width - 50));
        });

        // Touch desteÄŸi
        gameCanvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const rect = gameCanvas.getBoundingClientRect();
            basketX = e.touches[0].clientX - rect.left - 25;
            basketX = Math.max(0, Math.min(basketX, gameCanvas.width - 50));
        });

        document.getElementById('startGameBtn').addEventListener('click', startGame);

        // Sayfa yÃ¼klendiÄŸinde yÄ±ldÄ±z haritasÄ±nÄ± Ã§iz
        if (document.getElementById('starMap')) {
            drawStarMap();
        }
    </script>
</body>
</html>
